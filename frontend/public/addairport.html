<!DOCTYPE html>
<!-- Name: Muhammad Naufal 
     Class: DISM/FT/2A/01
     P2129004
     BED CA2 -->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
	<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>SP AIR</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="Free HTML5 Template by FREEHTML5.CO" />
	<meta name="keywords" content="free html5, free template, free bootstrap, html5, css3, mobile first, responsive" />
	<meta name="author" content="FREEHTML5.CO" />
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <!-- Import ajax -->

  <!-- 
	//////////////////////////////////////////////////////

	FREE HTML5 TEMPLATE 
	DESIGNED & DEVELOPED by FREEHTML5.CO
		
	Website: 		http://freehtml5.co/
	Email: 			info@freehtml5.co
	Twitter: 		http://twitter.com/fh5co
	Facebook: 		https://www.facebook.com/fh5co

	//////////////////////////////////////////////////////
	 -->

  	<!-- Facebook and Twitter integration -->
	<meta property="og:title" content=""/>
	<meta property="og:image" content=""/>
	<meta property="og:url" content=""/>
	<meta property="og:site_name" content=""/>
	<meta property="og:description" content=""/>
	<meta name="twitter:title" content="" />
	<meta name="twitter:image" content="" />
	<meta name="twitter:url" content="" />
	<meta name="twitter:card" content="" />

	<!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
	<link rel="shortcut icon" href="favicon.ico">

	<link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700,300' rel='stylesheet' type='text/css'>
	
	<!-- Animate.css -->
	<link rel="stylesheet" href="css/animate.css">
	<!-- Icomoon Icon Fonts-->
	<link rel="stylesheet" href="css/icomoon.css">
	<!-- Bootstrap  -->
	<link rel="stylesheet" href="css/bootstrap.css">
	<!-- Superfish -->
	<link rel="stylesheet" href="css/superfish.css">
	<!-- Magnific Popup -->
	<link rel="stylesheet" href="css/magnific-popup.css">
	<!-- Date Picker -->
	<link rel="stylesheet" href="css/bootstrap-datepicker.min.css">
	<!-- CS Select -->
	<link rel="stylesheet" href="css/cs-select.css">
	<link rel="stylesheet" href="css/cs-skin-border.css">
	
	<link rel="stylesheet" href="css/style.css">
	<link rel="stylesheet" href="css/airport.css">
    <link rel="stylesheet" href="css/addairport.css">


	<!-- Modernizr JS -->
	<script src="js/modernizr-2.6.2.min.js"></script>
	<!-- FOR IE9 below -->
	<!--[if lt IE 9]>
	<script src="js/respond.min.js"></script>
	<![endif]-->

	<script>
		$(document).ready(function () {
		  //clear the div posts
		  //$('#false9').empty()
  
		  $('#submit').click(function(){
					
					//retrieve values from the textboxes
					const name = $('#name').val();
					const country = $('#count').val();
					const description = $('#des').val();
					
					

				if ($('#name').val() == '' || $('#count').val() == '') {
					alert('Please enter name and country')
				} else {

					//prepare the data for the request 
					const data = `{"name":"${name}","country":"${country}","description":"${description}"}`
					console.log(data);
					const token = localStorage.getItem('token'); 
					
					//send the request
					$.ajax({

						
						headers: {"authorization":"Bearer "+token},
						url: "http://localhost:8081/airport/",
						type: 'POST',
						data: data,
						// data: variable_name,
						contentType: 'application/json;charset=utf-8',
						dataType: 'json',
						success: function(data,testStatus,xhr){
								console.log('success');	
							// console.log(JSON.stringify(data))
							// console.log(testStatus)
							// console.log(JSON.stringify(xhr))
							if (data != null && data.success){
								console.log('data not null')
								//Update msg spam tag
								$('#msg').html('Record updated succesful')
								
								

							}
							else {
								//console.log('null data')
								$('#msg').html('Record not updated')
							}
							alert('Airport added')		
						}, 
						error: function(xhr, testStatus, errorThrown){
							console.log('error')
							console.log(JSON.stringify(xhr))
							console.log(testStatus)
							console.log(JSON.stringify(errorThrown)) //this can see on webpage fn + f12 go console
							alert('Duplicate Entry: Airport already exist')
									
						}
					})
					return false
				}
				return false
			   })


			  
			//end of Search click event handler
		}); //end of document.ready()
	</script>

	
	</head>
	<body>
	<div id="fh5co-wrapper">
	 <div id="fh5co-page">
        <div class="">  
            <div class="container">
                <div class="row">
                   <h4 class="heading">Add Airport</h4>
                    <div class="col-md-8 border-right">
                       
                            <form class="form-container">
                                
                                <label for="name">Add Airport Name:</label>
                                <input type="text" placeholder="Enter Name" name="Name" id = "name" required>
                            
                                <label for="country">Add Country Name:</label>
                                <input type="text" placeholder="Enter Country" name="Country" id = "count" required>

                                <p><label for="des" class = "des">Description</label></p>
                                <textarea id="des" name="des" rows="4" cols="50" ></textarea>

								
                            
                            
                                <button type="submit" class="btn" id = "submit">Submit</button>
								<a href="adminAirport.html" class="button-link">
									Go Back
								  </a>
                              </form>
                            </div>
                          
                    </div>
                
                </div>
            </div>
            </div>
            </div>
        </div>
		
		
		
		


	</div>


	
	<!-- END fh5co-page -->

	</div>
	<!-- END fh5co-wrapper -->

	<!-- jQuery -->
	
	


	<script src="js/jquery.min.js"></script>
	<!-- jQuery Easing -->
	<script src="js/jquery.easing.1.3.js"></script>
	<!-- Bootstrap -->
	<script src="js/bootstrap.min.js"></script>
	<!-- Waypoints -->
	<script src="js/jquery.waypoints.min.js"></script>
	<script src="js/sticky.js"></script>

	<!-- Stellar -->
	<script src="js/jquery.stellar.min.js"></script>
	<!-- Superfish -->
	<script src="js/hoverIntent.js"></script>
	<script src="js/superfish.js"></script>
	<!-- Magnific Popup -->
	<script src="js/jquery.magnific-popup.min.js"></script>
	<script src="js/magnific-popup-options.js"></script>
	<!-- Date Picker -->
	<script src="js/bootstrap-datepicker.min.js"></script>
	<!-- CS Select -->
	<script src="js/classie.js"></script>
	<script src="js/selectFx.js"></script>
	
	<!-- Main JS -->
	<script src="js/main.js"></script>

	</body>
</html>